<!DOCTYPE html>
<html lang=en itemscope itemtype="http://schema.org/WebPage" itemref="logo">
<head>
<meta charset=utf-8>
<link rel="canonical" href="https://actions.cicirello.org/javadoc-cleanup/">
<link itemprop="url" href="https://actions.cicirello.org/javadoc-cleanup/">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="title" content="javadoc-cleanup - Create mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions">
<meta name="referrer" content="strict-origin-when-cross-origin">
<meta http-equiv="Content-Security-Policy" content="object-src 'none'; script-src 'sha384-i9On6a8pULeN0XD9l3J0gZMnvbggxt4HiEpfuxzePuYS3uDQJ/7mbPyYPfqe/wSg' 'sha384-d4YOhBtxn1YZo6bjT3h8O9J9lOxNJ4OIauaaKOXGw5bBUhDe+lDgB4QJNNwZONeu' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; style-src https://*.doubleclick.net https://*.googlesyndication.com https://fonts.googleapis.com 'unsafe-inline'; font-src fonts.gstatic.com;">
<meta itemprop="name" content="javadoc-cleanup - Create mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions">
<meta name="description" content="The javadoc-cleanup GitHub Action enables creating mobile-friendly  and SEO ready documentation sites by post-processing javadocs in GitHub Actions. The javadoc-cleanup GitHub action is a utility to tidy up javadocs prior to deployment to an API documentation website, assumed hosted on GitHub Pages. It performs the following functions. Improves mobile browsing experience by inserting the appropriate viewport directive within the head of each html file that was generated by javadoc if not already present. Strips out any timestamps inserted by javadoc (note that javadoc has an option to leave these out, but we are aware of at least one case where that option fails, so this action remedies this in post-processing). It is also capable of generating and inserting the canonical URL for each javadoc page. Enables inserting a user-defined block into the head of each javadoc generated page. For example, if you want to insert a link to your site's favicon, or really anything else that is valid in the head of an html file.">
<meta itemprop="description" content="The javadoc-cleanup GitHub Action enables creating mobile-friendly  and SEO ready documentation sites by post-processing javadocs in GitHub Actions. The javadoc-cleanup GitHub action is a utility to tidy up javadocs prior to deployment to an API documentation website, assumed hosted on GitHub Pages. It performs the following functions. Improves mobile browsing experience by inserting the appropriate viewport directive within the head of each html file that was generated by javadoc if not already present. Strips out any timestamps inserted by javadoc (note that javadoc has an option to leave these out, but we are aware of at least one case where that option fails, so this action remedies this in post-processing). It is also capable of generating and inserting the canonical URL for each javadoc page. Enables inserting a user-defined block into the head of each javadoc generated page. For example, if you want to insert a link to your site's favicon, or really anything else that is valid in the head of an html file.">
<title>javadoc-cleanup - Create mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions</title>
<link rel="icon" href="/images/favicon.svg" sizes="any" type="image/svg+xml">
<meta property="og:url" content="https://actions.cicirello.org/javadoc-cleanup/">
<meta property="og:title" content="Create mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions">
<meta property="og:image" content="https://actions.cicirello.org/images/javadoc-cleanup.png">
<meta property="og:image:width" content="1280">
<meta property="og:image:height" content="640">
<meta property="og:type" content="website">
<meta property="og:description" content="The javadoc-cleanup GitHub Action enables creating mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions. It is a utility to tidy up javadocs prior to deployment to an API documentation website, including improving mobile browsing experience, inserting canonical links, and anything else you want to insert into the head of each page.">
<style>
header, nav, footer, article, aside, section { display: block; }
footer { clear: both; }
body { background-color: #f6f0bb; font-family: Georgia, Times, "Times New Roman", serif; }
#siteheader, aside, footer { background-color: #bfd9bf; }
#siteheader, aside, footer, article { border: 2px solid #4CAF50; border-radius: 25px; margin-bottom: 5px; padding: 8px; }
#siteheader h2 {font-size: 2em; text-align: center;}
img.respimg { max-width: 100%; height: auto; }
h1, h2, h3, h4, h5, h6, strong { color: #862d2d; }
h1, h2, h3, div.centered { text-align:center; }
div.sponsors img { margin-top: 8px; }
a { color: #005500; }
a:visited { color:#862d2d; }
#toggle { position: absolute; left: -100vw; display: none; }
nav { margin: 0px; padding: 0; overflow: hidden; display: inline-block; }
nav div, #menu-icon { float: left; margin-right: 8px; }
nav div a, #menu-icon { display: block; background-color: #f6f0bb; border: 2px solid #4CAF50; text-decoration: none; text-align: center; color: #1c2833; }
nav div a { border-bottom: none; border-radius: 12px 12px 0px 0px; padding: 6px 12px; }
nav div a:visited { color: #1c2833; }
nav div a:hover:not(.active), #menu-icon:hover:not(.active) { background-color: #305030; color: white; }
nav div a.active { background-color: #4CAF50; }
nav div a:not(.active) { display: none; }
#toggle:checked ~ div a:not(.active) { display: block; }
#menu-icon { cursor: pointer; display: block; padding: 3px 7px 3px 7px; border-radius: 4px; }
article li { margin-bottom: 8px; margin-top: 8px; }
.publist li { margin-bottom: 16px; }
.publist ul { margin-bottom: 32px; }
section li { margin-bottom: 16px; }
section ul { margin-bottom: 32px; }
#copyright { text-align: center; color: #862d2d; }
h1 {margin: 10px auto; padding: 10px;}
.badge-height { position: relative; width: 100%; height: 20px;}
th { text-align: left; }
table, th, td { border: 1px solid black; white-space: nowrap;}
table { width: auto; min-width: 100%; }
th, td { padding: 15px; }
.carousel { overflow-x: auto; -webkit-overflow-scrolling: touch; }
.footer-link { padding: 0 10px 0 10px; }
ins.adsbygoogle[data-ad-status="unfilled"] {display: none !important;}
.container-for-ad {margin: 20px 0;}
@media screen and (min-width:601px){
#menu-icon { display: none; }
nav div a:not(.active) { display: block; }
}
</style>
<script async src="https://www.cicirello.org/js/dynamic_loader.min.js" integrity="sha384-i9On6a8pULeN0XD9l3J0gZMnvbggxt4HiEpfuxzePuYS3uDQJ/7mbPyYPfqe/wSg" crossorigin="anonymous"></script>
</head>
<body>
<header itemprop="hasPart" itemscope itemtype="https://schema.org/WPHeader" id="siteheader">
<div itemscope>
<h2>
<a href=".">
<picture id="logo" itemprop="primaryImageOfPage" itemscope itemtype="http://schema.org/ImageObject">
<source 
  type="image/webp"
  srcset="/images/javadoc-cleanup.webp 1280w,
          /images/javadoc-cleanup960.webp 960w,
          /images/javadoc-cleanup640.webp 640w,
		  /images/javadoc-cleanup320.webp 320w"
	sizes="(width <= 320px) 320px, 
         (width <= 640px) 640px, 
		 (width <= 960px) 960px, 
		 1280px">
  <img 
    src="/images/javadoc-cleanup.png" 
    alt="javadoc-cleanup - Create mobile-friendly and SEO ready documentation sites by post-processing javadocs in GitHub Actions" 
    width="1280" 
    height="640" 
    class="respimg"
    srcset="/images/javadoc-cleanup.png 1280w,
	        /images/javadoc-cleanup960.png 960w,
            /images/javadoc-cleanup640.png 640w,
		    /images/javadoc-cleanup320.png 320w"
	sizes="(width <= 320px) 320px, 
         (width <= 640px) 640px, 
		 (width <= 960px) 960px, 
		 1280px">
</picture>
</a>
</h2>
<nav>
<input type="checkbox" id="toggle">
<label for="toggle" id="menu-icon">&#9776;</label>
<div><a href="/">Home</a></div>
<div><a href="/javadoc-cleanup/" class="active">javadoc-cleanup</a></div>
<div><a href="https://github.com/cicirello/javadoc-cleanup">GitHub Repo</a></div>
<div><a href="https://github.com/cicirello/javadoc-cleanup/issues">Issue Tracker</a></div>
<div><a href="https://github.com/marketplace/actions/javadoc-cleanup">GitHub Marketplace</a></div>
<div><a href="https://github.com/cicirello/javadoc-cleanup/blob/master/CHANGELOG.md">ChangeLog</a></div>
<div><a href="https://www.cicirello.org/">Cicirello.org</a></div>
</nav>
</div>
<div class="centered sponsors">
<a href="https://github.com/sponsors/cicirello"><img src="/images/github-sponsors.svg" alt="GitHub Sponsors" width="107" height="28"></a>
<a href="https://liberapay.com/cicirello"><img src="/images/Liberapay.svg" alt="Liberapay" width="119" height="28"></a>
<a href="https://ko-fi.com/cicirello"><img src="/images/ko-fi.svg" alt="Ko-Fi" width="82" height="28"></a>
</div>
</header>
<article itemprop="mainEntity" itemscope itemtype="http://schema.org/SoftwareSourceCode">
<h2 itemprop="name">javadoc-cleanup</h2>
<section itemprop="description">
<h3>Overview</h3>
<div class="centered badge-height"><a href="https://github.com/marketplace/actions/javadoc-cleanup"><img alt="Latest release in the GitHub Marketplace" src="https://img.shields.io/github/v/release/cicirello/javadoc-cleanup?label=Marketplace&logo=GitHub"></a></div>
<p>The <a href="https://github.com/cicirello/javadoc-cleanup">javadoc-cleanup 
GitHub Action</a> enables creating mobile-friendly and SEO ready, documentation 
sites by post-processing javadocs in GitHub Actions. The javadoc-cleanup GitHub 
action is a utility to tidy up javadocs prior to deployment to an API 
documentation website, assumed hosted on GitHub Pages. It performs the 
following functions.</p>

<p><strong>Improved mobile browsing experience:</strong> It inserts appropriate 
viewport directives within the head of each html file that was generated by javadoc 
if not already present. Beginning with Java 16+, javadoc inserts appropriate viewport declarations
to begin with, but earlier Java versions do not.</p>

<div class="container-for-ad">
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6813707428591829" data-ad-slot="2701150451"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<p><strong>Strips out any timestamps inserted by javadoc:</strong> The timestamps cause a 
variety of version control issues for documentation sites maintained in 
git repositories. Javadoc has an option -notimestamp to direct javadoc 
not to insert timestamps (which we recommend that you also use). However, 
at the present time there appears to be a bug (in OpenJDK 11's javadoc, 
and possibly other versions), where the timestamp is not omitted in the 
overview-summary.html generated by javadoc.</p>

<p><strong>Canonical URL generation:</strong> It is capable of generating and inserting 
the canonical URL for each javadoc page.</p>

<p><strong>User-defined block insertion:<strong> It enables inserting a user-defined block 
into the head of each javadoc generated page. For example, this feature can come in handy
if you want to insert a link to your 
site's favicon, or really anything else that is valid in the head of an html file.</p>

<p><strong>Cleans up javadoc-generated redirects:<strong> In projects that use the Java 
Platform Module System (JPMS), javadoc redirects the 
root index.html to the page of a module, and under certain other circumstances to a 
package page. Such redirected pages should direct search engines to <code>noindex</code>, 
but javadoc doesn't do so. The javadoc-cleanup action inserts a <code>noindex, follow</code> 
directive in any such redirected pages.</p>

<p>The javadoc-cleanup GitHub Action is implemented 
in <span itemprop="programmingLanguage">Python</span>, and the
<a href="https://github.com/cicirello/javadoc-cleanup" itemprop="codeRepository">source code 
repository</a> is hosted on GitHub; and it is licensed under 
the <a itemprop="license" href="https://github.com/cicirello/javadoc-cleanup/blob/master/LICENSE">MIT License</a>. 
Also in the GitHub repository you will find detailed instructions for 
use including several sample GitHub workflows.</p>

<p itemprop="author copyrightHolder" itemscope itemtype="http://schema.org/Person">The 
javadoc-cleanup GitHub Action is developed by
<a itemprop="url mainEntityOfPage" href="https://www.cicirello.org/"><span itemprop="name">Vincent 
A. Cicirello</span></a>. It was originally implemented for my own use, but I have decided to
share it with others.</p>
</section>

<div class="container-for-ad">
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6813707428591829" data-ad-slot="3571378994"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<section>
<h3>Live Examples</h3>
<div class="carousel">
<table>
<tr><th>Repository</th><th>Workflow</th><th>Javadocs</th></tr>
<tr>
<td><a href="https://github.com/cicirello/Chips-n-Salsa">Chips-n-Salsa</a></td>
<td><a href="https://github.com/cicirello/Chips-n-Salsa/blob/master/.github/workflows/docs.yml">docs.yml</a></td>
<td><a href="https://chips-n-salsa.cicirello.org/api/">https://chips-n-salsa.cicirello.org/api/</a></td>
</tr>
<tr>
<td><a href="https://github.com/cicirello/JavaPermutationTools">JavaPermutationTools</a></td>
<td><a href="https://github.com/cicirello/JavaPermutationTools/blob/master/.github/workflows/docs.yml">docs.yml</a></td>
<td><a href="https://jpt.cicirello.org/api/">https://jpt.cicirello.org/api/</a></td>
</tr>
</table>
</div>
</section>
<section>
<h3>Tech Stack</h3>
<p>The javadoc-cleanup GitHub Action utilizes the following:</p>
<ul>
<li><a href="https://www.python.org/">Python 3</a> (implemented almost entirely in Python);</li>
<li>The <a href="https://actions.cicirello.org/pyaction/">pyaction</a> Docker container,
which is a Docker container designed to support GitHub Actions development in the Python
language (also see <a href="https://github.com/cicirello/pyaction">pyaction's GitHub 
repository</a>);</li>
<li>The 
<a href="https://github.com/cicirello/python-github-action-template">cicirello/python-github-action-template</a> 
repository, a template that we maintain to assist developers getting started developing a 
GitHub Action in Python;</li>
<li><a href="https://www.docker.com/">Docker</a> since it is implemented as a 
<a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action">container 
action</a>; and</li>
<li><a href="https://github.blog/2020-09-01-introducing-github-container-registry/">GitHub 
Container Registry</a>, which is where we pull 
<a href="https://github.com/cicirello/pyaction/pkgs/container/pyaction">pyaction</a> from at 
runtime for faster action loading (e.g., pulling the base Docker container from GitHub while 
an action is running on a GitHub server should be faster than pulling from Docker Hub).</li>
</ul>

<div class="container-for-ad">
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6813707428591829" data-ad-slot="7239161265"></ins>
<script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>
</section>

<section>
<h3>Blog Posts About javadoc-cleanup</h3>
<p>As the author of javadoc-cleanup, I occasionally post about this, and other software that I maintain
on <a href="https://dev.to/">DEV.to</a>. See <a href="https://dev.to/cicirello">my DEV.to profile</a> for a full
list of such posts. Below is a selection of blog posts specifically about javadoc-cleanup.</p>
<ul>
<li><p><a href="https://dev.to/cicirello/deploy-a-documentation-website-for-a-java-library-using-github-actions-197n">Deploy a Documentation Website for a Java Library Using GitHub Actions</a>, posted on DEV on November 30, 2022.</p>
<p>This post explains how to use GitHub Actions to automate deployment of a documentation website for a Java library whenever a new release is available. This workflow builds the javadocs of the library, post-processes them to insert things like a referrer policy, the website's favicon, etc, updates an XML sitemap, and finally deploys to GitHub Pages.</p>
</li>
<li><p><a href="https://dev.to/cicirello/post-process-javadoc-generated-documentation-in-github-actions-before-deploying-to-the-web-11k8">Post-Process Javadoc-Generated Documentation in GitHub Actions Before Deploying to the Web</a>, posted on DEV on November 16, 2022.</p>
<p>This post introduces how to use javadoc-cleanup, a GitHub Action that post-processes javadoc-generated documentation to improve it in various ways prior to deployment.</p>
</li>
</ul>
</section>
</article>
<footer>
<p><small>
<a class="footer-link" href="https://www.cicirello.org/e/">Contact</a>
<strong>&#x25C6;</strong>
<a class="footer-link" href="https://www.cicirello.org/policy/privacy/">Privacy Policy</a>
</small></p>
<div id="copyright"><small>Copyright &copy; 2021-<span itemprop="copyrightYear">2025</span> <a href="https://www.cicirello.org/">Vincent A. Cicirello</a>.</small></div>
</footer>
</body>
</html>
